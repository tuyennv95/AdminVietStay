{"ast":null,"code":"// import React from 'react';\n// import Button from '@material-ui/core/Button';\n// import ClickAwayListener from '@material-ui/core/ClickAwayListener';\n// import Grow from '@material-ui/core/Grow';\n// import Paper from '@material-ui/core/Paper';\n// import Popper from '@material-ui/core/Popper';\n// import MenuItem from '@material-ui/core/MenuItem';\n// import MenuList from '@material-ui/core/MenuList';\n// import { makeStyles } from '@material-ui/core/styles';\n// import { Link } from 'react-router-dom';\n// import { TextField } from '@material-ui/core';\n// import { useHistory } from 'react-router-dom';\n// import queryString from 'query-string';\n// import axios from 'axios';\n// import  {BASE_API} from '../constant/index';\n// const useStyles = makeStyles((theme) => ({\n//     input: {\n//         display: 'block',\n//         margin: '20px',\n//         width: '100%',\n//     },\n//     button: {\n//         width: '100%',\n//         textAlign: 'center',\n//     },\n//     button_confirm: {\n//         marginRight: '10px'\n//     },\n//     form:{\n//         width: '50%'\n//     }\n// }));\n// export default function FormUtil(props) {\n//     const classes = useStyles();\n//     const key = props.location.pathname;\n//     const [id, setId] = React.useState();\n//     const keyRepair = queryString.parse(key)\n//     // console.log(keyRepair.id)\n//     React.useEffect(()=>{\n//         setId(keyRepair?.id)\n//     },[])\n//     const [text, setText] = React.useState({\n//         utilities_name:'',\n//         des:'',\n//     });\n//     const token = document.cookie;\n//     const token1 = token.slice(token.indexOf(\"tuyennguyen=\") + 12, token.indexOf(\",\"));\n//     React.useEffect(()=>{\n//         if(id){\n//             axios.get(`${BASE_API}/users/${id}`,{\n//                 headers: {\n//                     Authorization: `Bearer ${token1}`,\n//                 },\n//             })\n//                 .then(response => {\n//                     console.log(response.data)\n//                     if(id){\n//                         setText({\n//                             ...text,\n//                             name: response.data.username,\n//                             email: response.data.email,\n//                             phone: response.data.phone,\n//                             pass: response.data.password,\n//                         })\n//                     }\n//                     // setData(response.data);\n//                 })\n//                 .catch(error => {\n//                     // Handle error.\n//                     console.log('An error occurred:', error.response);\n//                 });\n//             }\n//     },[id])\n//     function test() {\n//         if (key === \"/add-user\") {\n//             return true;\n//         }\n//         else {\n//             return false;\n//         }\n//     }\n//     const changeInput=(e)=>{\n//         const {name, value} = e.target;\n//         setText({\n//             ...text,\n//             [name]:value,\n//         });\n//         // console.log(value)\n//     }\n//     const history = useHistory();\n//     function huy() {\n//         history.push(\"/users\")\n//     }\n//     // console.log(token1)\n//     function buttonRepair(){\n//         axios.put(`${BASE_API}/users/${id}`, {\n//             // headers: {\n//             //     Authorization: `Bearer ${token1}`,\n//             // },\n//                 username: text.name,\n//                 email:  text.email,\n//                 phone:  text.phone,\n//                 password:   text.pass,\n//             },\n//         )\n//         .then((response) =>{\n//             console.log(response)\n//             history.push(\"/users\")\n//         })\n//         .catch((error) =>{\n//             console.log(error)\n//         })\n//     }\n//     console.log(text ,text.email, text.phone)\n//     function buttonAdd(){\n//         console.log(text.name)\n//         console.log(text.email)\n//         console.log(text.pass)\n//         axios.post('http://localhost:1337/auth/local/register', {\n//                 username: text.name,\n//                 email:  text.email,\n//                 password:   text.pass,\n//                 phone:  text.phone,\n//             },\n//         )\n//         .then((response) =>{\n//             console.log(response)\n//             history.push(\"/users\")\n//         })\n//         .catch((error) =>{\n//             console.log(error)\n//         })\n//     }\n//     return (\n//         <div className={classes.formUser}>\n//             <h2 className={classes.textAddUser}>{id ? 'Repair User' : 'Add User'}</h2>\n//             <div className={classes.form}>\n//                 <TextField\n//                     className={classes.input}\n//                     id=\"standard-name-input\"\n//                     label=\"name\"\n//                     type=\"text\"\n//                     autoComplete=\"current-name\"\n//                     name=\"name\"\n//                     value={text.name}\n//                     onChange={changeInput}\n//                 />\n//                 <TextField\n//                     className={classes.input}\n//                     id=\"standard-email-input\"\n//                     label=\"email\"\n//                     type=\"text\"\n//                     autoComplete=\"current-email\"\n//                     name=\"email\"\n//                     value={text.email}\n//                     onChange={changeInput}\n//                 />\n//                 <TextField\n//                     className={classes.input}\n//                     id=\"standard-phone-input\"\n//                     label=\"phone\"\n//                     type=\"text\"\n//                     autoComplete=\"current-phone\"\n//                     name=\"phone\"\n//                     value={text.phone}\n//                     onChange={changeInput}\n//                 />\n//                 <TextField\n//                     className={classes.input}\n//                     id=\"standard-password-input\"\n//                     label=\"pass\"\n//                     type=\"text\"\n//                     autoComplete=\"current-pass\"\n//                     name=\"pass\"\n//                     value={text.pass}\n//                     onChange={changeInput}\n//                 />\n//             </div>\n//             <div className={classes.button}>\n//                 <Button className={classes.button_confirm} variant=\"contained\" onClick={huy}>\n//                     Hủy\n// </Button>\n//                 {test() === true\n//                     ?\n//                     <Button className={classes.button_confirm} variant=\"contained\" color=\"primary\"\n//                     onClick={buttonAdd}\n//                     >\n//                         Add\n//                     </Button>\n//                     :\n//                     <Button className={classes.button_confirm} variant=\"contained\" color=\"primary\"\n//                     onClick={buttonRepair}\n//                     >\n//                         Sửa\n//             </Button>\n//                 }\n//             </div>\n//         </div>\n//     );\n// }","map":{"version":3,"sources":["/home/tuyennguyen/KLTN/ADMIN/src/component/FormUtil.jsx"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAGA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA","sourcesContent":["// import React from 'react';\n// import Button from '@material-ui/core/Button';\n// import ClickAwayListener from '@material-ui/core/ClickAwayListener';\n// import Grow from '@material-ui/core/Grow';\n// import Paper from '@material-ui/core/Paper';\n// import Popper from '@material-ui/core/Popper';\n// import MenuItem from '@material-ui/core/MenuItem';\n// import MenuList from '@material-ui/core/MenuList';\n// import { makeStyles } from '@material-ui/core/styles';\n// import { Link } from 'react-router-dom';\n// import { TextField } from '@material-ui/core';\n// import { useHistory } from 'react-router-dom';\n// import queryString from 'query-string';\n// import axios from 'axios';\n// import  {BASE_API} from '../constant/index';\n// const useStyles = makeStyles((theme) => ({\n//     input: {\n//         display: 'block',\n//         margin: '20px',\n//         width: '100%',\n//     },\n//     button: {\n//         width: '100%',\n//         textAlign: 'center',\n//     },\n//     button_confirm: {\n//         marginRight: '10px'\n//     },\n//     form:{\n//         width: '50%'\n//     }\n// }));\n\n// export default function FormUtil(props) {\n//     const classes = useStyles();\n//     const key = props.location.pathname;\n//     const [id, setId] = React.useState();\n//     const keyRepair = queryString.parse(key)\n//     // console.log(keyRepair.id)\n//     React.useEffect(()=>{\n//         setId(keyRepair?.id)\n//     },[])\n//     const [text, setText] = React.useState({\n//         utilities_name:'',\n//         des:'',\n        \n//     });\n//     const token = document.cookie;\n\n//     const token1 = token.slice(token.indexOf(\"tuyennguyen=\") + 12, token.indexOf(\",\"));\n//     React.useEffect(()=>{\n//         if(id){\n//             axios.get(`${BASE_API}/users/${id}`,{\n//                 headers: {\n//                     Authorization: `Bearer ${token1}`,\n//                 },\n//             })\n//                 .then(response => {\n//                     console.log(response.data)\n//                     if(id){\n//                         setText({\n//                             ...text,\n//                             name: response.data.username,\n//                             email: response.data.email,\n//                             phone: response.data.phone,\n//                             pass: response.data.password,\n//                         })\n//                     }\n//                     // setData(response.data);\n//                 })\n//                 .catch(error => {\n//                     // Handle error.\n//                     console.log('An error occurred:', error.response);\n//                 });\n//             }\n            \n//     },[id])\n\n//     function test() {\n//         if (key === \"/add-user\") {\n//             return true;\n//         }\n//         else {\n//             return false;\n//         }\n//     }\n//     const changeInput=(e)=>{\n//         const {name, value} = e.target;\n//         setText({\n//             ...text,\n//             [name]:value,\n//         });\n//         // console.log(value)\n//     }\n//     const history = useHistory();\n//     function huy() {\n//         history.push(\"/users\")\n//     }\n//     // console.log(token1)\n//     function buttonRepair(){\n//         axios.put(`${BASE_API}/users/${id}`, {\n//             // headers: {\n//             //     Authorization: `Bearer ${token1}`,\n//             // },\n            \n//                 username: text.name,\n//                 email:  text.email,\n//                 phone:  text.phone,\n//                 password:   text.pass,\n//             },\n           \n//         )\n//         .then((response) =>{\n//             console.log(response)\n//             history.push(\"/users\")\n//         })\n//         .catch((error) =>{\n//             console.log(error)\n//         })\n\n        \n//     }\n//     console.log(text ,text.email, text.phone)\n\n//     function buttonAdd(){\n//         console.log(text.name)\n//         console.log(text.email)\n//         console.log(text.pass)\n//         axios.post('http://localhost:1337/auth/local/register', {\n            \n//                 username: text.name,\n//                 email:  text.email,\n//                 password:   text.pass,\n//                 phone:  text.phone,\n\n//             },\n           \n//         )\n//         .then((response) =>{\n//             console.log(response)\n//             history.push(\"/users\")\n//         })\n//         .catch((error) =>{\n//             console.log(error)\n//         })\n\n        \n//     }\n    \n//     return (\n//         <div className={classes.formUser}>\n//             <h2 className={classes.textAddUser}>{id ? 'Repair User' : 'Add User'}</h2>\n//             <div className={classes.form}>\n//                 <TextField\n//                     className={classes.input}\n//                     id=\"standard-name-input\"\n//                     label=\"name\"\n//                     type=\"text\"\n//                     autoComplete=\"current-name\"\n//                     name=\"name\"\n//                     value={text.name}\n//                     onChange={changeInput}\n//                 />\n//                 <TextField\n//                     className={classes.input}\n//                     id=\"standard-email-input\"\n//                     label=\"email\"\n//                     type=\"text\"\n//                     autoComplete=\"current-email\"\n//                     name=\"email\"\n\n//                     value={text.email}\n//                     onChange={changeInput}\n\n\n//                 />\n//                 <TextField\n//                     className={classes.input}\n//                     id=\"standard-phone-input\"\n//                     label=\"phone\"\n//                     type=\"text\"\n//                     autoComplete=\"current-phone\"\n//                     name=\"phone\"\n\n//                     value={text.phone}\n//                     onChange={changeInput}\n\n\n//                 />\n//                 <TextField\n//                     className={classes.input}\n//                     id=\"standard-password-input\"\n//                     label=\"pass\"\n//                     type=\"text\"\n//                     autoComplete=\"current-pass\"\n//                     name=\"pass\"\n\n//                     value={text.pass}\n//                     onChange={changeInput}\n\n\n//                 />\n\n//             </div>\n//             <div className={classes.button}>\n//                 <Button className={classes.button_confirm} variant=\"contained\" onClick={huy}>\n//                     Hủy\n// </Button>\n//                 {test() === true\n//                     ?\n//                     <Button className={classes.button_confirm} variant=\"contained\" color=\"primary\"\n//                     onClick={buttonAdd}\n//                     >\n//                         Add\n//                     </Button>\n//                     :\n//                     <Button className={classes.button_confirm} variant=\"contained\" color=\"primary\"\n//                     onClick={buttonRepair}\n//                     >\n//                         Sửa\n//             </Button>\n//                 }\n\n//             </div>\n//         </div>\n//     );\n// }"]},"metadata":{},"sourceType":"module"}
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e,t=require("./generateLicense-c091cf37.js"),i=require("react");class s{static setLicenseKey(e){s.key=e}static setReleaseInfo(e){s.releaseInfo=e}}function r(e){console.error(["************************************************************","*************************************************************","",...e,"","*************************************************************","*************************************************************"].join("\n"))}function n(){r(["Material-UI X: Invalid license.","","Your license for Material-UI X is not valid, please visit","https://material-ui.com/r/x-license to get a valid license."])}function o(){r(["Material-UI X: License key not found.","","This is a trial-only version of Material-UI X.","While all the features are unlocked, it is not licensed for","development use on projects intended for production.","","To purchase a license, please visit","https://material-ui.com/r/x-license to get a valid license."])}function a(){r(["Material-UI X: License key expired.","","Please visit https://material-ui.com/r/x-license to renew","your subscription and get the latest version of Material-UI X."])}(e=exports.LicenseStatus||(exports.LicenseStatus={})).NotFound="NotFound",e.Invalid="Invalid",e.Expired="Expired",e.Valid="Valid";const c=["https://muix-preview.netlify.app/","https://muix-storybook.netlify.app/","material-ui.com/"],l=/^.*EXPIRY=([0-9]+),.*$/;function u(e,i){if(c.some((e=>null!=window&&window.location.href.indexOf(e)>-1)))return exports.LicenseStatus.Valid;if(!e)throw new Error("Material-UI: The release information is missing. Not able to validate license.");if(!i)return exports.LicenseStatus.NotFound;const s=i.substr(0,32),r=i.substr(32);if(s!==t.md5(r))return exports.LicenseStatus.Invalid;const n=t.base64Decode(r);let o=0;try{if(o=parseInt(n.match(l)[1],10),!o||Number.isNaN(o))return console.error("Error checking license. Expiry timestamp not found or invalid!"),exports.LicenseStatus.Invalid}catch(e){return console.error("Error extracting license expiry timestamp.",e),exports.LicenseStatus.Invalid}const a=parseInt(t.base64Decode(e),10);if(Number.isNaN(a))throw new Error("Material-UI: The release information is invalid. Not able to validate license.");return o<a?exports.LicenseStatus.Expired:exports.LicenseStatus.Valid}exports.generateLicence=t.generateLicence,exports.LicenseInfo=s,exports.generateReleaseInfo=function(){const e=new Date;return e.setHours(0,0,0,0),t.base64Encode(e.getTime().toString())},exports.showExpiredLicenseError=a,exports.showInvalidLicenseError=n,exports.showNotFoundLicenseError=o,exports.useLicenseVerifier=function(){const[e,t]=i.useState(exports.LicenseStatus.Invalid);return i.useEffect((()=>{const e=u(s.releaseInfo,s.key);t(e),e===exports.LicenseStatus.Invalid?n():e===exports.LicenseStatus.NotFound?o():e===exports.LicenseStatus.Expired&&a()}),[]),e},exports.verifyLicense=u;

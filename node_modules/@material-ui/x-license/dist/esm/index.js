import{b as e,m as i,a as t}from"./generateLicense-4c697767.js";export{g as generateLicence}from"./generateLicense-4c697767.js";import{useState as n,useEffect as r}from"react";class o{static setLicenseKey(e){o.key=e}static setReleaseInfo(e){o.releaseInfo=e}}function a(e){console.error(["************************************************************","*************************************************************","",...e,"","*************************************************************","*************************************************************"].join("\n"))}function s(){a(["Material-UI X: Invalid license.","","Your license for Material-UI X is not valid, please visit","https://material-ui.com/r/x-license to get a valid license."])}function l(){a(["Material-UI X: License key not found.","","This is a trial-only version of Material-UI X.","While all the features are unlocked, it is not licensed for","development use on projects intended for production.","","To purchase a license, please visit","https://material-ui.com/r/x-license to get a valid license."])}function c(){a(["Material-UI X: License key expired.","","Please visit https://material-ui.com/r/x-license to renew","your subscription and get the latest version of Material-UI X."])}var u;function d(){const i=new Date;return i.setHours(0,0,0,0),e(i.getTime().toString())}!function(e){e.NotFound="NotFound",e.Invalid="Invalid",e.Expired="Expired",e.Valid="Valid"}(u||(u={}));const f=["https://muix-preview.netlify.app/","https://muix-storybook.netlify.app/","material-ui.com/"],p=/^.*EXPIRY=([0-9]+),.*$/;function m(e,n){if(f.some((e=>null!=window&&window.location.href.indexOf(e)>-1)))return u.Valid;if(!e)throw new Error("Material-UI: The release information is missing. Not able to validate license.");if(!n)return u.NotFound;const r=n.substr(0,32),o=n.substr(32);if(r!==i(o))return u.Invalid;const a=t(o);let s=0;try{if(s=parseInt(a.match(p)[1],10),!s||Number.isNaN(s))return console.error("Error checking license. Expiry timestamp not found or invalid!"),u.Invalid}catch(e){return console.error("Error extracting license expiry timestamp.",e),u.Invalid}const l=parseInt(t(e),10);if(Number.isNaN(l))throw new Error("Material-UI: The release information is invalid. Not able to validate license.");return s<l?u.Expired:u.Valid}function v(){const[e,i]=n(u.Invalid);return r((()=>{const e=m(o.releaseInfo,o.key);i(e),e===u.Invalid?s():e===u.NotFound?l():e===u.Expired&&c()}),[]),e}export{o as LicenseInfo,u as LicenseStatus,d as generateReleaseInfo,c as showExpiredLicenseError,s as showInvalidLicenseError,l as showNotFoundLicenseError,v as useLicenseVerifier,m as verifyLicense};
